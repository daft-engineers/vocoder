<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Daft Engineers Vocoder: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Daft Engineers Vocoder
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Now you too can be daft</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="https://user-images.githubusercontent.com/10051310/219484888-cb6844f1-e377-42c5-ac6a-09ce9f30a023.png" alt="Header" class="inline"/></p>
<p>We are building a vocoder, which is a vocal effect that combines your voice with a sound wave. The result is a unique sound used in popular songs like Daft Punk's "Harder, Better, Faster, Stronger" (the inspiration for our name), or ELO's "Mr. Blue Sky".</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Pre-requisites</h1>
<p>To build just the vocoder itself you will need:</p>
<ul>
<li>Software<ul>
<li>CMake 3.16+</li>
<li>C++11 compiler</li>
<li>Debian</li>
<li>ALSA</li>
</ul>
</li>
<li>Hardware<ul>
<li>Raspberry Pi 3 (or newer) running a 64bit OS</li>
<li>Codec Zero</li>
</ul>
</li>
</ul>
<p>Additionally, to run the unit tests and static analysis suite, LLVM 15 + Tools is required. To install this on debian the automatic script from <a href="https://apt.llvm.org/">their website</a> can be used.</p>
<p>To build the doxygen documentation, the <code>doxygen</code> and <code>graphviz</code> packages are required.</p>
<p>We recommend the following to get started from scratch (requires 1GB+ of storage):</p>
<div class="fragment"><div class="line">sudo apt update</div>
<div class="line">sudo apt install wget gpg build-essential cmake libasound2-dev</div>
<div class="line">wget https://apt.llvm.org/llvm.sh</div>
<div class="line">chmod +x llvm.sh</div>
<div class="line">sudo ./llvm.sh 15 all</div>
<div class="line">sudo ln -s /usr/lib/llvm-15/bin/clang{,++,-format,-tidy} /usr/local/bin</div>
</div><!-- fragment --><p>Python 3 is required to automatically build and link unit tests. Python 3 comes preinstalled on most Linux distributions, and is available as a package on all others.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Getting started (using Clang)</h1>
<p>Once you have installed the prerequisites and configured your hardware you should clone the repository and run the setup script.</p>
<div class="fragment"><div class="line">git clone git@github.com:daft-engineers/vocoder.git</div>
<div class="line">cd vocoder</div>
<div class="line">chmod +x setup.sh</div>
<div class="line">./setup.sh</div>
</div><!-- fragment --><p>The project is now ready to be built.</p>
<div class="fragment"><div class="line">cd build</div>
<div class="line">make</div>
<div class="line">cd unit_tests  # run unit tests</div>
<div class="line">ctest</div>
<div class="line">cd ../src      # run vocoder</div>
<div class="line">./vocoder</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2"></a>
Running our validation suite</h2>
<p>As well as using the GoogleTest framework to provide unit and integration tests, we also use clang-tidy for static analysis and clang-format to ensure code meets style standards. To run the static analysis and style tests use:</p>
<div class="fragment"><div class="line">chmod +x checks.sh</div>
<div class="line">./checks.sh</div>
</div><!-- fragment --><p>This will run static analysis and return any errors found. It will also reformat the code in-place to meet our style guidelines, which are based on the LLVM guidelines. If you would like to check if the code meet style guideline <em>without</em> it being updated in place, then the flag <code>--formatting</code> can be passed to the script.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Documentation</h1>
<p>Documentation for main can be <a href="https://daft-engineers.github.io/vocoder/">found here</a>.</p>
<p>If you want to generate the documentation for yourself, the <code>doxygen</code> and <code>graphviz</code> packages are required. These can be installed with the following command on ubuntu:</p>
<div class="fragment"><div class="line"> {$}</div>
<div class="line">sudo apt install doxygen graphviz</div>
</div><!-- fragment --><p> With all the required dependences, from the root of the project, the command </p><div class="fragment"><div class="line"> {$}</div>
<div class="line">doxygen Doxyfile</div>
</div><!-- fragment --><p> generates the documentation, and then the page can be opened by navigating to <code>docs/html/</code> and opening <code>index.html</code></p>
<h1><a class="anchor" id="autotoc_md4"></a>
Social Media</h1>
<p><a href="https://www.instagram.com/daftengineers/"><img src="https://user-images.githubusercontent.com/10051310/219481632-10430e66-73dc-400e-a046-dc9d7dd9f3a9.svg" alt="" style="pointer-events: none;" height="80px" class="inline"/></a> <a href="https://twitter.com/DaftEngineers"><img src="https://user-images.githubusercontent.com/10051310/219482103-8422c45f-ca60-4918-b5b8-6de79d0add22.png" alt="" height="80px" class="inline"/></a> <a href="https://www.youtube.com/@daftengineers"><img src="https://user-images.githubusercontent.com/10051310/219484585-2eb87c95-5951-428b-b3a1-7ac846e40f65.png" alt="" height="80px" class="inline"/></a> <a href="https://www.tiktok.com/@daftengineers"><img src="https://user-images.githubusercontent.com/10051310/220791551-141ee0cc-34ef-47b8-bbcb-701461f88851.png" alt="" height="80px" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Program Design</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Sequence Diagram</h2>
<p><img src="https://user-images.githubusercontent.com/10051310/220790624-48ad3c57-34fe-4f8b-b89b-a98e7c718f88.png" alt="sequence diagram for vocoder" class="inline"/></p>
<p>Sequence diagram generated with TikZ-UML library, source is available upon request.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Project management</h1>
<p>Regualar scrum meetings were held through the project, notes are available <a href="https://github.com/daft-engineers/project/blob/main/README.md">here</a>.</p>
<p>The project uses github's issue system for management. The project board is located <a href="https://github.com/orgs/daft-engineers/projects/1/views/3">here.</a> <img src="https://user-images.githubusercontent.com/56744932/232234904-d9e0ba0a-6532-460d-966f-4a65a5f11cc9.png" alt="Image" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md8"></a>
Contributions</h1>
<p>Contributions must be made in the form of a pull request and must pass the unit tests and validation suite. Any contrbutions must be licenceable under the MPL 2.0.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Licence</h1>
<p>The project is licenced under the Mozilla Public License Version 2.0. More details can be found in the licence file, and <a href="https://choosealicense.com/licenses/mpl-2.0/">here</a>.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Continuous integration</h1>
<p>The project has a fleshed out continuous integration pipeline run on a Raspberry Pi. On every push and pull request, the project is built, the static analysis and formatting is run, and unit tests are run. Only on a successful merge to the main branch, the <a href="https://daft-engineers.github.io/vocoder/">hosted documentation</a> is updated. The image below shows the workflow for a standard push.</p>
<p><img src="https://user-images.githubusercontent.com/56744932/232238323-5977fc16-2d5f-4533-b965-6143a109ffd9.png" alt="Image" class="inline"/></p>
<p>Nightly, a more extensive test suite is run. This suite takes too long to run on every commit, but is valuable for finding threading bugs in particular.</p>
<p><img src="https://user-images.githubusercontent.com/56744932/232495456-cb85b482-2e24-48c8-92cf-c3656f83ca41.png" alt="Image" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
