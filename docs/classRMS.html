<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Daft Engineers Vocoder: RMS Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Daft Engineers Vocoder
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Now you too can be daft</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classRMS-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RMS Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="rms_8hh_source.html">rms.hh</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for RMS:</div>
<div class="dyncontent">
<div class="center"><img src="classRMS__coll__graph.png" border="0" usemap="#aRMS_coll__map" alt="Collaboration graph"/></div>
<map name="aRMS_coll__map" id="aRMS_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,89,141"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1799aaada5468c75c82d202dc09e9ee5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRMS.html#a1799aaada5468c75c82d202dc09e9ee5">RMS</a> (int num_samples, double gain, <a class="el" href="structPipe.html">Pipe</a>&lt; Audio &gt; &amp;input_pipe, <a class="el" href="structPipe.html">Pipe</a>&lt; double &gt; &amp;output_pipe, std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:a1799aaada5468c75c82d202dc09e9ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b94cae7e97cbed3be8688c134d35255"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRMS.html#a8b94cae7e97cbed3be8688c134d35255">insert</a> (Audio packet)</td></tr>
<tr class="separator:a8b94cae7e97cbed3be8688c134d35255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab25b923e0a5a49dc04203d0f9457d934"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRMS.html#ab25b923e0a5a49dc04203d0f9457d934">calc</a> ()</td></tr>
<tr class="separator:ab25b923e0a5a49dc04203d0f9457d934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fad0a845f6eb2afb13fa2509ecc646b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRMS.html#a7fad0a845f6eb2afb13fa2509ecc646b">run</a> ()</td></tr>
<tr class="separator:a7fad0a845f6eb2afb13fa2509ecc646b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192549aea062bd5290a09e75724dca78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRMS.html#a192549aea062bd5290a09e75724dca78">stop</a> ()</td></tr>
<tr class="separator:a192549aea062bd5290a09e75724dca78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classRMS.html">RMS</a> (Root Mean Square) Class. This class determines the average power of a signal. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1799aaada5468c75c82d202dc09e9ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1799aaada5468c75c82d202dc09e9ee5">&#9670;&nbsp;</a></span>RMS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RMS::RMS </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPipe.html">Pipe</a>&lt; Audio &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPipe.html">Pipe</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>output_pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialises the input and output pipes, and the timeout. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_samples</td><td>The number of samples to store in history when calculating the root mean square. This should be approximately 4x the period of the longest component you want to include in the output. </td></tr>
    <tr><td class="paramname">gain</td><td>The gain to be applied </td></tr>
    <tr><td class="paramname">input_pipe</td><td>A <a class="el" href="structPipe.html">Pipe&lt;Audio&gt;</a> containing the signal to be measured </td></tr>
    <tr><td class="paramname">output_pipe</td><td>A <a class="el" href="structPipe.html">Pipe&lt;double&gt;</a> which will contain the root mean square of the signal </td></tr>
    <tr><td class="paramname">timeout</td><td>The number of milliseconds the thread should wait before exiting if no data is provided. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab25b923e0a5a49dc04203d0f9457d934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab25b923e0a5a49dc04203d0f9457d934">&#9670;&nbsp;</a></span>calc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double RMS::calc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines the relative Root Mean Square of the ring buffer. Since the ring buffer already contains the squares of the samples, this only needs to sum and then square root the ring buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>The root mean square (between 0 and 1) </dd></dl>

</div>
</div>
<a id="a8b94cae7e97cbed3be8688c134d35255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b94cae7e97cbed3be8688c134d35255">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RMS::insert </td>
          <td>(</td>
          <td class="paramtype">Audio&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Takes a collection of samples from an Audio item, squares it, and inserts it into the ring buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The samples to insert. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7fad0a845f6eb2afb13fa2509ecc646b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fad0a845f6eb2afb13fa2509ecc646b">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RMS::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates the calculation thread and then returns. Runs until <a class="el" href="classRMS.html#a192549aea062bd5290a09e75724dca78">stop()</a> is called. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classRMS.html#a192549aea062bd5290a09e75724dca78">stop()</a> </dd></dl>

</div>
</div>
<a id="a192549aea062bd5290a09e75724dca78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192549aea062bd5290a09e75724dca78">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RMS::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops the thread. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classRMS.html#a7fad0a845f6eb2afb13fa2509ecc646b">run()</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="rms_8hh_source.html">rms.hh</a></li>
<li>src/rms.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
